"use strict";(self.webpackChunkmy_app_samurai_way=self.webpackChunkmy_app_samurai_way||[]).push([[170],{9170:function(t,e,n){n.r(e),n.d(e,{AuthRedirectComponent:function(){return N},ProfileAPIComponent:function(){return Z},ProfileContainer:function(){return I}});var s=n(5671),i=n(3144),a=n(136),r=n(7277),o=n(1413),u=n(2791),l="ProfileInfo_descriptionBlock__KjZ0Q",d="ProfileInfo_largeAvatar__KTgDS",c=n(7733),p=n(7326),f=n(184),h=function(t){(0,a.Z)(n,t);var e=(0,r.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){console.log((0,p.Z)(t)),t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return(0,i.Z)(n,[{key:"render",value:function(){var t=this.props.status;return(0,f.jsx)("div",{children:this.state.editMode?(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:this.onStatusChange,value:this.state.status,onBlur:this.deactivateEditMode,autoFocus:!0})}):(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:this.activateEditMode,children:t})})})}}]),n}(u.Component),x=function(t){var e=t.profile,n=t.profileStatus,s=t.updateStatus;return e?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("img",{src:null===e||void 0===e?void 0:e.photos.large,alt:"avatar",className:d}),(0,f.jsx)(h,{status:n,updateStatus:s}),(0,f.jsx)("div",{children:e.fullName}),(0,f.jsx)("div",{children:e.aboutMe})]})}):(0,f.jsx)(c.p,{})},v="MyPosts_postsBlock__8N2xj",m="MyPosts_posts__VDbQe",j="Post_item__3H2YQ",_=function(t){return(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("img",{src:"https://img1.goodfon.ru/wallpaper/nbig/f/20/avatar-avatar-neytiri.jpg",alt:"avatar"}),t.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["likes: ",t.likeCount]})}),(0,f.jsx)("div",{children:(0,f.jsx)("span",{children:"like"})})]})},g=n(4153),S=(0,u.memo)((function(t){var e=t.posts,n=t.newPostText,s=t.addPost,i=e.map((function(t){return(0,f.jsx)(_,{message:t.postText,likeCount:t.likesCount,id:t.id},t.id)}));return(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)(g.F,{onAddPost:function(t){s(t)},initialPostText:n}),(0,f.jsx)("div",{children:"New post"}),(0,f.jsx)("div",{className:m,children:i})]})})),C=n(4959),T=n(9434),P=n(4740),w=n(8418),y=function(){var t=(0,T.I0)(),e=(0,P.C)(w.Jq),n=(0,P.C)(w.G1);return(0,f.jsx)(S,{addPost:function(e){t((0,C.Pi)(e))},posts:e,newPostText:n})},b=function(t){return(0,f.jsxs)("div",{className:"",children:[(0,f.jsx)(x,{profile:t.profile,profileStatus:t.profileStatus,updateStatus:t.updateStatus}),(0,f.jsx)(y,{})]})},k=n(7689);var M,Z=function(t){(0,a.Z)(n,t);var e=(0,r.Z)(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var t=Number(this.props.router.params.userId)||30104;this.props.setUserProfile(t)}},{key:"render",value:function(){return(0,f.jsx)(b,{profile:this.props.profile,profileStatus:this.props.profileStatus,updateStatus:this.props.updateStatus})}}]),n}(u.Component),N=function(t){return(0,f.jsx)(Z,(0,o.Z)({},t))},A=(M=N,function(t){var e=(0,k.TH)(),n=(0,k.s0)(),s=(0,k.UO)();return(0,f.jsx)(M,(0,o.Z)((0,o.Z)({},t),{},{router:{location:e,navigate:n,params:s}}))}),I=function(){var t=(0,P.T)(),e=(0,P.C)(w.Ai),n=(0,P.C)(w.v0),s=(0,P.C)(w.TL);return(0,f.jsx)(A,{profile:e,setUserProfile:function(e){t((0,C.bq)(e))},isAuth:n,profileStatus:s,updateStatus:function(e){t((0,C.OG)(e))}})}},4153:function(t,e,n){n.d(e,{F:function(){return r}});n(2791);var s=n(5705),i="TextInputForm_inputForm__XiL7r",a=n(184),r=function(t){var e=t.onAddPost,n=t.initialPostText,r=(0,s.TA)({initialValues:{newText:n},validate:function(t){return function(t){var e={};return t.newText.length<1&&(e.newText="min message length is 5 bytes"),e}(t)},onSubmit:function(t){e(t.newText),r.handleReset(t.newText)}}),o=!!r.errors.newText;return(0,a.jsxs)("form",{onSubmit:r.handleSubmit,className:i,children:[(0,a.jsx)("textarea",{id:"newText",name:"newText",onChange:r.handleChange,value:r.values.newText}),(0,a.jsx)("button",{type:"submit",disabled:o,children:"add post"})]})}}}]);
//# sourceMappingURL=170.20c9571d.chunk.js.map